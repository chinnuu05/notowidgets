var r=Object.defineProperty;var g=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var l=(e,t,n)=>g(e,typeof t!="symbol"?t+"":t,n);(function(){"use strict";(function(e,t){const s=class s{constructor(){l(this,"queue",[])}static getInstance(){return s.instance||(s.instance=new s),s.instance}initializeSDK(o){console.log("[+] Initializing Notofox SDK");const i=t.createElement("script");i.src="https://unpkg.com/react@18/umd/react.production.min.js",i.type="text/javascript";const a=t.createElement("script");a.src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js",a.type="text/javascript";const c=t.createElement("script");c.src=o,c.async=!0,c.type="text/javascript",c.id="notofox-sdk",c.onload=()=>{console.log("[+] Widget script loaded from: "+o),this.initWidget()},c.onerror=()=>{console.error("Failed to load widget bundle from: "+o)},i.onload=()=>{console.log("[+] React loaded"),t.head.appendChild(a)},a.onload=()=>{console.log("[+] ReactDOM loaded"),t.head.appendChild(c)},t.head.appendChild(i)}initWidget(){e.NotofoxWidget?e.NotofoxWidget.init({project:"test-project",defaultTheme:"light",locale:"en",containerId:"notofox-widget"}):console.log("window.NotofoxWidget is not defined")}processQueue(){for(;this.queue.length>0;){const[o,i]=this.queue.shift();o==="initialize_widget"&&e.NotofoxWidget&&(console.log("[+] Initializing widget with config:",i),e.NotofoxWidget.init(i))}}push(o,i){this.queue.push([o,i]),t.getElementById("notofox-sdk")?e.NotofoxWidget&&(console.log("[+] Widget already initialized, processing queue..."),this.processQueue()):(console.log("Initializing TestWidget widget..."),this.initializeSDK("../scripts/TestWidget.umd.js"))}};l(s,"instance");let n=s;typeof e.Notofox!="function"&&(e.Notofox=function(d,o){n.getInstance().push(d,o)})})(window,document)})();
//# sourceMappingURL=notosdk.js.map
